{"ast":null,"code":"var _jsxFileName = \"/home/danleks/Documents/programming/fullstackopen/part9/patientor/frontend/src/components/IndividualPatientInfo.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { apiBaseUrl } from \"../constants\";\nimport { useStateValue } from \"../state\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst IndividualPatientInfo = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  console.log(id);\n  const [{\n    patient\n  }, dispatch] = useStateValue();\n  const [error, setError] = React.useState();\n  React.useEffect(() => {\n    const fetchIndividualPatient = async () => {\n      try {\n        const {\n          data: IndividualPatientFromApi\n        } = await axios.get(`${apiBaseUrl}/patients/${id}`);\n        console.log('before', patient);\n        dispatch({\n          type: 'SET_INDIVIDUAL_PATIENT',\n          payload: IndividualPatientFromApi\n        });\n        console.log('after', patient);\n      } catch (e) {\n        if (axios.isAxiosError(e)) {\n          var _e$response, _e$response2, _e$response2$data;\n\n          console.error((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : _e$response.data) || 'Unrecognized axios error');\n          setError(String(e === null || e === void 0 ? void 0 : (_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : (_e$response2$data = _e$response2.data) === null || _e$response2$data === void 0 ? void 0 : _e$response2$data.error) || 'Unrecognized axios error');\n        } else {\n          console.error('unknown error', e);\n          setError('unknown error');\n        }\n      }\n    };\n\n    void fetchIndividualPatient();\n  }, [dispatch]);\n\n  if (!patient || id) {\n    return /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"loading ...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: id && patient[id]\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n};\n\n_s(IndividualPatientInfo, \"2RggCClA989jbemk0gtbPS2tYm8=\", false, function () {\n  return [useParams, useStateValue];\n});\n\n_c = IndividualPatientInfo;\nexport default IndividualPatientInfo;\n\nvar _c;\n\n$RefreshReg$(_c, \"IndividualPatientInfo\");","map":{"version":3,"sources":["/home/danleks/Documents/programming/fullstackopen/part9/patientor/frontend/src/components/IndividualPatientInfo.tsx"],"names":["React","useParams","axios","apiBaseUrl","useStateValue","IndividualPatientInfo","id","console","log","patient","dispatch","error","setError","useState","useEffect","fetchIndividualPatient","data","IndividualPatientFromApi","get","type","payload","e","isAxiosError","response","String"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,SAAR,QAAwB,kBAAxB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,QAAyB,cAAzB;AACA,SAAQC,aAAR,QAA4B,UAA5B;;;AAEA,MAAMC,qBAAqB,GAAG,MAAM;AAAA;;AAChC,QAAM;AAAEC,IAAAA;AAAF,MAASL,SAAS,EAAxB;AACAM,EAAAA,OAAO,CAACC,GAAR,CAAYF,EAAZ;AACA,QAAM,CAAC;AAACG,IAAAA;AAAD,GAAD,EAAYC,QAAZ,IAAwBN,aAAa,EAA3C;AAEA,QAAM,CAACO,KAAD,EAAQC,QAAR,IAAoBZ,KAAK,CAACa,QAAN,EAA1B;AAEAb,EAAAA,KAAK,CAACc,SAAN,CAAgB,MAAM;AAClB,UAAMC,sBAAsB,GAAG,YAAY;AACvC,UAAI;AACA,cAAM;AAAEC,UAAAA,IAAI,EAAEC;AAAR,YAAqC,MAAMf,KAAK,CAACgB,GAAN,CAAoB,GAAEf,UAAW,aAAYG,EAAG,EAAhD,CAAjD;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBC,OAAtB;AACAC,QAAAA,QAAQ,CAAC;AAACS,UAAAA,IAAI,EAAE,wBAAP;AAAiCC,UAAAA,OAAO,EAAEH;AAA1C,SAAD,CAAR;AACAV,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBC,OAArB;AACH,OALD,CAKE,OAAOY,CAAP,EAAmB;AACjB,YAAInB,KAAK,CAACoB,YAAN,CAAmBD,CAAnB,CAAJ,EAA2B;AAAA;;AACvBd,UAAAA,OAAO,CAACI,KAAR,CAAc,CAAAU,CAAC,SAAD,IAAAA,CAAC,WAAD,2BAAAA,CAAC,CAAEE,QAAH,4DAAaP,IAAb,KAAqB,0BAAnC;AACAJ,UAAAA,QAAQ,CAACY,MAAM,CAACH,CAAD,aAACA,CAAD,uCAACA,CAAC,CAAEE,QAAJ,sEAAC,aAAaP,IAAd,sDAAC,kBAAmBL,KAApB,CAAN,IAAoC,0BAArC,CAAR;AACH,SAHD,MAGO;AACHJ,UAAAA,OAAO,CAACI,KAAR,CAAc,eAAd,EAA+BU,CAA/B;AACAT,UAAAA,QAAQ,CAAC,eAAD,CAAR;AACH;AACJ;AACJ,KAfD;;AAgBA,SAAKG,sBAAsB,EAA3B;AACH,GAlBD,EAkBG,CAACL,QAAD,CAlBH;;AAoBA,MAAI,CAACD,OAAD,IAAUH,EAAd,EAAkB;AACd,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AAED,sBACI;AAAA,cACKA,EAAE,IAAIG,OAAO,CAACH,EAAD;AADlB;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH,CApCD;;GAAMD,qB;UACaJ,S,EAEeG,a;;;KAH5BC,qB;AAsCN,eAAeA,qBAAf","sourcesContent":["import React from 'react';\nimport {useParams} from \"react-router-dom\";\nimport {Patient} from \"../types\";\nimport axios from \"axios\";\nimport {apiBaseUrl} from \"../constants\";\nimport {useStateValue} from \"../state\";\n\nconst IndividualPatientInfo = () => {\n    const { id } = useParams<{ id: string}>();\n    console.log(id)\n    const [{patient}, dispatch] = useStateValue();\n\n    const [error, setError] = React.useState<string>();\n\n    React.useEffect(() => {\n        const fetchIndividualPatient = async () => {\n            try {\n                const { data: IndividualPatientFromApi } = await axios.get<Patient>(`${apiBaseUrl}/patients/${id}`);\n                console.log('before', patient)\n                dispatch({type: 'SET_INDIVIDUAL_PATIENT', payload: IndividualPatientFromApi})\n                console.log('after', patient)\n            } catch (e: unknown) {\n                if (axios.isAxiosError(e)) {\n                    console.error(e?.response?.data || 'Unrecognized axios error');\n                    setError(String(e?.response?.data?.error) || 'Unrecognized axios error');\n                } else {\n                    console.error('unknown error', e);\n                    setError('unknown error');\n                }\n            }\n        }\n        void fetchIndividualPatient()\n    }, [dispatch])\n\n    if (!patient||id) {\n        return <h2>loading ...</h2>\n    }\n\n    return (\n        <div>\n            {id && patient[id]}\n        </div>\n    )\n};\n\nexport default IndividualPatientInfo;"]},"metadata":{},"sourceType":"module"}