{"ast":null,"code":"export const reducer = (state, action) => {\n  switch (action.type) {\n    case \"SET_PATIENT_LIST\":\n      return { ...state,\n        patients: { ...action.payload.reduce((memo, patient) => ({ ...memo,\n            [patient.id]: patient\n          }), {}),\n          ...state.patients\n        }\n      };\n\n    case \"ADD_PATIENT\":\n      return { ...state,\n        patients: { ...state.patients,\n          [action.payload.id]: action.payload\n        }\n      };\n\n    case \"SET_INDIVIDUAL_PATIENT\":\n      return { ...state,\n        patient: {\n          [action.payload.id]: action.payload\n        }\n      };\n\n    case \"SET_DIAGNOSES\":\n      return { ...state,\n        diagnoses: { ...action.payload.reduce((memo, code) => ({ ...memo,\n            [code.code]: code\n          }), {})\n        }\n      };\n\n    default:\n      return state;\n  }\n};\nexport const setPatientList = patientListFromApi => {\n  return {\n    type: \"SET_PATIENT_LIST\",\n    payload: patientListFromApi\n  };\n};\nexport const addPatient = patient => {\n  return {\n    type: 'ADD_PATIENT',\n    payload: patient\n  };\n};\nexport const setIndividualPatient = patient => {\n  return {\n    type: 'SET_INDIVIDUAL_PATIENT',\n    payload: patient\n  };\n};\nexport const setDiagnoses = diagnoses => {\n  return {\n    type: 'SET_DIAGNOSES',\n    payload: diagnoses\n  };\n};","map":{"version":3,"sources":["/home/danleks/Documents/programming/fullstackopen/part9/patientor/frontend/src/state/reducer.ts"],"names":["reducer","state","action","type","patients","payload","reduce","memo","patient","id","diagnoses","code","setPatientList","patientListFromApi","addPatient","setIndividualPatient","setDiagnoses"],"mappings":"AAsBA,OAAO,MAAMA,OAAO,GAAG,CAACC,KAAD,EAAeC,MAAf,KAAyC;AAC9D,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,kBAAL;AACE,aAAO,EACL,GAAGF,KADE;AAELG,QAAAA,QAAQ,EAAE,EACR,GAAGF,MAAM,CAACG,OAAP,CAAeC,MAAf,CACD,CAACC,IAAD,EAAOC,OAAP,MAAoB,EAAE,GAAGD,IAAL;AAAW,aAACC,OAAO,CAACC,EAAT,GAAcD;AAAzB,WAApB,CADC,EAED,EAFC,CADK;AAKR,aAAGP,KAAK,CAACG;AALD;AAFL,OAAP;;AAUF,SAAK,aAAL;AACE,aAAO,EACL,GAAGH,KADE;AAELG,QAAAA,QAAQ,EAAE,EACR,GAAGH,KAAK,CAACG,QADD;AAER,WAACF,MAAM,CAACG,OAAP,CAAeI,EAAhB,GAAqBP,MAAM,CAACG;AAFpB;AAFL,OAAP;;AAOF,SAAK,wBAAL;AACE,aAAO,EACL,GAAGJ,KADE;AAELO,QAAAA,OAAO,EAAE;AACP,WAACN,MAAM,CAACG,OAAP,CAAeI,EAAhB,GAAqBP,MAAM,CAACG;AADrB;AAFJ,OAAP;;AAMF,SAAK,eAAL;AACE,aAAO,EACL,GAAGJ,KADE;AAELS,QAAAA,SAAS,EAAE,EACT,GAAGR,MAAM,CAACG,OAAP,CAAeC,MAAf,CACC,CAACC,IAAD,EAAOI,IAAP,MAAiB,EAAC,GAAGJ,IAAJ;AAAU,aAACI,IAAI,CAACA,IAAN,GAAaA;AAAvB,WAAjB,CADD,EAEC,EAFD;AADM;AAFN,OAAP;;AAUF;AACE,aAAOV,KAAP;AAvCJ;AAyCD,CA1CM;AA4CP,OAAO,MAAMW,cAAc,GAAIC,kBAAD,IAA6C;AACzE,SAAO;AACLV,IAAAA,IAAI,EAAE,kBADD;AAELE,IAAAA,OAAO,EAAEQ;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAMC,UAAU,GAAIN,OAAD,IAA+B;AACvD,SAAO;AACLL,IAAAA,IAAI,EAAE,aADD;AAELE,IAAAA,OAAO,EAAEG;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAMO,oBAAoB,GAAIP,OAAD,IAA+B;AACjE,SAAO;AACLL,IAAAA,IAAI,EAAE,wBADD;AAELE,IAAAA,OAAO,EAAEG;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAMQ,YAAY,GAAIN,SAAD,IAAkC;AAC5D,SAAO;AACLP,IAAAA,IAAI,EAAE,eADD;AAELE,IAAAA,OAAO,EAAEK;AAFJ,GAAP;AAID,CALM","sourcesContent":["import { State } from \"./state\";\nimport {Diagnoses, Patient} from \"../types\";\n\nexport type Action =\n  | {\n      type: \"SET_PATIENT_LIST\";\n      payload: Patient[];\n    }\n  | {\n      type: \"ADD_PATIENT\";\n      payload: Patient;\n    }\n  | {\n      type: \"SET_INDIVIDUAL_PATIENT\";\n      payload: Patient;\n    }\n  | {\n      type: \"SET_DIAGNOSES\";\n      payload: Diagnoses[];\n    };\n\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"SET_PATIENT_LIST\":\n      return {\n        ...state,\n        patients: {\n          ...action.payload.reduce(\n            (memo, patient) => ({ ...memo, [patient.id]: patient }),\n            {}\n          ),\n          ...state.patients\n        }\n      };\n    case \"ADD_PATIENT\":\n      return {\n        ...state,\n        patients: {\n          ...state.patients,\n          [action.payload.id]: action.payload\n        }\n      };\n    case \"SET_INDIVIDUAL_PATIENT\":\n      return {\n        ...state,\n        patient: {\n          [action.payload.id]: action.payload\n        }\n      }\n    case \"SET_DIAGNOSES\":\n      return {\n        ...state,\n        diagnoses: {\n          ...action.payload.reduce(\n              (memo, code) => ({...memo, [code.code]: code}),\n              {}\n          ),\n        }\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport const setPatientList = (patientListFromApi : Patient[]) : Action => {\n  return {\n    type: \"SET_PATIENT_LIST\",\n    payload: patientListFromApi\n  }\n}\n\nexport const addPatient = (patient: Patient) : Action => {\n  return {\n    type: 'ADD_PATIENT',\n    payload: patient,\n  }\n}\n\nexport const setIndividualPatient = (patient: Patient) : Action => {\n  return {\n    type: 'SET_INDIVIDUAL_PATIENT',\n    payload: patient\n  }\n}\n\nexport const setDiagnoses = (diagnoses: Diagnoses): Action => {\n  return {\n    type: 'SET_DIAGNOSES',\n    payload: diagnoses,\n  }\n}\n"]},"metadata":{},"sourceType":"module"}